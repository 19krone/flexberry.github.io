---
title: Как создать полномочия на классы
sidebar: flexberry-aspnet_sidebar
keywords: Flexberry ASP-NET, Flexberry Security
toc: true
permalink: ru/fa_authority-to-classes.html

---

## Общая информация
Предположим, что существуют классы, которые некоторые пользователи или пользователи с определенной ролью не могут редактировать (создавать новые объекты/удалять/просматривать список). Для этого необходимо настроить [полномочия](efs_security.html) для пользователей/ролей пользователей.

Создать роль, для которой будут произведены соответствующие настройки (например, отключена возможность удаления объектов из списка для определенного класса), можно двумя способами:
* в разделе "Администрирование\Роли" в приложении;
* с помощью [Security Console](efs_security-console.html).

Список пользователей создается на основе БД полномочий.

Полномочия настраиваются в разделе "Классы" на форме редактирования роли или пользователя. Например, есть 4 класса. Один не доступен для чтения, второй - для редактирования, третий - для создания новых объектов, четвертый - для удаления. Настройка полномочий будет выглядеть следующим образом:

![](/images/pages/products/flexberry-aspnet/aspnet/authority-to-classes.png)

## Создание полномочий на классы при аутентификации на основе форм
Для настройки полномочий следует добавить пользователя(ей) в разделе "Администрирование\Пользователи" в приложении (если пользователей ограниченное количество и список не построен на основе БД полномочий). Далее следует выполнить одно из действий:

* присвоить пользователю роль с ограниченными полномочиями;
* ограничить полномочия на форме редактирования пользователя.

## Создание полномочий на классы при windows-аутентификации
Для того чтобы ограничить полномочия пользователей в web-приложении с windows-аутентификацей следует:

* создать роль, [присваиваемую по умолчанию](fa_authentication-adapter.html):

```xml
<configuration>
	<appSettings>
		<add key="DefaultRoles" value="Tester"/>
		<!--...-->
	</appSettings>
	<!--...-->
</configuration>
```

* настроить для нее полномочия;
* [добавить пользователей в БД системы полномочий](fa_authentication-adapter.html):

```cs
protected void Page_Load(object sender, EventArgs e)
{
	//...
	ApplyTreeViewCookie();
	// При выполнении метода CreateDbUser в БД будут добавлены следующие объекты:
        // 1. Пользователь с привязкой к домену и к ролям, заданным по умолчанию. 
        // 2. Домен пользователя, если ранее он отсутствовал в системе полномочий.
        if (AuthenticationAdapter.GetDbUser(Context.User.Identity.Name) == null)
        {
            AuthenticationAdapter.CreateDbUser(Context.User.Identity.Name);
        }
	//...
	fio.Text = Context.User.Identity.Name;
	//...
}
```

## Смотрите также

* [Как начать работу с подсистемой полномочий](how-to-start-work-with-right-manager.html).
* [Сценарии использования подсистемы полномочий](efs_rights-scenarios.html).
* [Генерация скрипта назначения полномочий](efs_permition-script-generation.html).
* [AccessType (тип проверки полномочий для класса)](efs_access-type.html)

## Откуда ссылаются на эту страницу

* [Подсистема полномочий: разрешение на запуск приложения и открытие форм](efs_access-type-start-app-and-open-forms.html)
* [RightManager-module. Добавление пользователей в БД системы полномочий при windows-аутентификации](fa_authentication-adapter.html)

## Куда ссылается эта страница

* [AccessType (тип проверки полномочий для класса)](efs_access-type.html)
* [RightManager-module. Добавление пользователей в БД системы полномочий при windows-аутентификации](fa_authentication-adapter.html)
* [Как начать работу с подсистемой полномочий]()
* [Генерация скрипта назначения полномочий](efs_permition-script-generation.html)
* [Подсистема полномочий](efs_security.html)
* [Разграничение прав пользователей приложения]efs_rights-scenarios.html()
* [Консоль управления полномочиями (Security Console)](efs_security-console.html)