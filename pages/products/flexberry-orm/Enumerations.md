---
title: Перечислимые типы данных (классы со стереотипом enumeration)
sidebar: product--sidebar
keywords: Flexberry Designer, Flexberry ORM, Public
toc: true
permalink: ru/enumerations.html
folder: product--folder
lang: ru
---

<div style="margin:5px; padding-left:28px; float:right; width:40%; outline:1px solid white;"> <br> <table border="0" width="100%" bgcolor="#6495ED"> <tbody><tr><td bgcolor="#FFFFFF"> 

* '''Продукт''': [Flexberry Designer](flexberry-designer.html)
* '''Компонент''': [Редактор UML-диаграмм](editing-diagram.html)
* '''Предназначение''': Классы со [стереотипом](key-concepts-flexberry-designer.html) Enumeration на [диаграмме классов](class-diagram.html) представляют собой перечислимый тип.
</td>
</tr></tbody></table></a>
</div>
# Перечислимые типы данных (классы со стереотипом enumeration)
`Enumeration` - [стереотип](key-concepts-flexberry-designer.html) UML-класса, обозначающий перечислимый тип.

Атрибуты UML-класса являются значениями перечислимого типа.

![](/images/pages/img/Flexberry plugins/enumeration.jpg)

# Дополнительно редактируемые свойства
Окно редактирования свойств перечислимого типа выглядит следующим образом (две закладки):
![](/images/pages/img/Flexberry plugins/enumpropp1.jpg)

* `Name` - имя перечислимого типа, то же, что и отображается непосредственно на `UML`-классе. 
* `Description` - при необходимости, некоторое подробное описание, для повышения информативности модели в `CASE`, генерируется в код на `.Net`-языке как `DocComment`; 
* `OnlyShowSelectedValue` - не используется (зарезервировано для будущих версий); 
* `Packet, NamespacePostfix` - позволяют настроить сборку и пространство имен, в которое должен генерироваться тип, см. [Расположение сборок после генерации кода](location-assembly-after-code-generation.html).

![](/images/pages/img/Flexberry plugins/enumpropp2.jpg)

Эта страница предназначена для настройки свойств значений перечислимого типа. Для каждого свойства:

* `Name` - имя значения перечислимого типа, оно же отображается непосредственно на UML-классе. 
* `Description` - при необходимости, некоторое подробное описание значения, для повышения информативности модели в `CASE`, генерируется в код на `.Net`-языке как `DocComment`; 
* `Caption` - позволяет указать значение, информативное для пользователя (используется в пользовательском интерфейсе); 
* `DefaultValue` - [целое число для значения перечислимого типа](http://msdn.microsoft.com/en-us/library/sbbt4032%28v=vs.71%29.aspx). 

# Что генерируется с описания перечислимого типа
{| border="1"
! Что генерируется
! Генерация в SQL DDL
! Генерация в .Net-язык
|-
| Имя UML-класса
| Никак
| Имя .Net-типа (перечислимый тип)
|-
| Имя атрибута UML-класса
| Выбирается самое длинное имя из всех в перечислимом типе, считается число символов, поле в таблице объявляется типа VARCHAR(число символов).Далее, сервисы данных сохраняют значения перечислимого типа как строковые константы, соответствующие именам.
| Имя константы в перечислимом типе
|-
| Свойство Caption атрибута UML-класса
| Значения перечислимого типа хранятся в БД значениями заголовков.
| Генерируется .Net-атрибут EnumCaption из:`Namespace: ICSSoft.STORMNET Assembly: ICSSoft.STORMNET.DataObject (in ICSSoft.STORMNET.DataObject.dll) `
|-
| Свойство `DefaultValue` атрибута UML-класса
| Никак
| [Целое число для значения перечислимого типа](http://msdn.microsoft.com/en-us/library/sbbt4032%28v=vs.71%29.aspx) (если не указано иначе, то при редактировании поля перечислимого типа по умолчанию будет отображён элемент с минимальным `DefaultValue`, а в выпадающем списке элементы перечислимого типа будут отображаться в порядке возрастания их `DefaultValue`)
|}

Пример сгенерированного в C# кода перечислимого типа:
```
public enum СостояниеОшибки
{ 
    Черновик, 
    Зарегистрирована, 
    Оценка, 
    Подтверждена, 
    Отладка, 
    Задержка, 
    Повторена, 
    AlphaTesting, 
    BetaTesting, 
    Исправлена,
}
```

# Заголовки
Часто, бывает удобным, чтобы значения перечислимых типов имели некоторый заголовок, удобный для чтения пользователем. Этот заголовок приписывается атрибутом `Caption` непосредственно значениям перечислимого типа.


Пример:
```

public enum AccessModifier
	{
		[Caption("+")]
		Public,
		[Caption("-")]
		Private,
		[Caption("#")]
		Protected
	}
```

Программист может конвертировать значения от `Caption` к перечислимому типу и обратно, вызовом методов статического класса `EnumCaption`.

Значения перечислимого типа хранятся в БД значениями заголовков.

Программист может настроить отображение значений в виде одного выбираемого (подобно `ComboBox`), либо нескольких помечаемых (подобно `RadioButton`). Это делается указанием атрибута `OnlyShowSelectedValueAttribute`, указываемого для перечислимого типа.


## Пустые значения
Чтобы добавить пустое значение в перечисление (пустую строку), необходимо создать новый элемент и в его `Caption` поставить знак "тильда" (~):

![](/images/pages/img/Учебник программиста Casseberry/EnumEmpty.png)

В результате, в коде появится следующая запись:

```
        [Caption("")]
        Пусто,
```

## Работа с заголовками
Программист может конвертировать значения от `Caption` к перечислимому типу и обратно, вызовом методов статического класса  `ICSSoft.STORMNET.EnumCaption`:
* `EnumCaption.GetCaptionFor(object value)`
* `EnumCaption.GetValueFor(string caption, Type enumType)`
* `EnumCaption.TryGetValueFor<TEnum>(string caption, out TEnum enumValue)`

'''Значения перечислимого типа хранятся в БД значениями заголовков.'''


Программист может настроить отображение значений в виде одного выбираемого (подобно `ComboBox`), либо нескольких помечаемых (подобно `RadioButton`). Это делается указанием атрибута `OnlyShowSelectedValueAttribute`, указываемого для перечислимого типа.

