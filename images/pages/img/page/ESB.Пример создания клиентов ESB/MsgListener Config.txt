<?xml version="1.0" encoding="utf-8" ?>
<configuration>

  <appSettings>
    <add key="ExternalKey"  value="MsgListener" />
    <add key="ServiceID4SB" value="{fe159eb2-9730-4b66-b41e-3988f1aad047}" />
    <add key="MessageTypeID"  value="{688d2557-3506-480c-b6a4-87ada47cbfef}" />
    <add key="ScanPeriod" value="3000"/>
    <add key="UseProxy" value="true" />
    <add key="ProxyServer" value="http://proxy.ics.perm.ru:8080" />
    <add key="ProxyLogin" value="ICS_Home\TestUser" />
    <add key="ProxyPass" value="TestUserPassword" />
  </appSettings>

  <system.serviceModel>
    <bindings>
      <wsHttpBinding>
        <binding name="DGAAdapter" openTimeout="00:10:00" closeTimeout="00:10:00" receiveTimeout="00:10:00" sendTimeout="00:10:00" bypassProxyOnLocal="false" transactionFlow="false" hostNameComparisonMode="StrongWildcard" maxBufferPoolSize="524288" maxReceivedMessageSize="10485760" messageEncoding="Text" textEncoding="utf-8" useDefaultWebProxy="true" allowCookies="false">
          <readerQuotas maxDepth="32" maxStringContentLength="10485760" maxArrayLength="10485760" maxBytesPerRead="4096" maxNameTableCharCount="16384" />
          <reliableSession ordered="true" inactivityTimeout="00:10:00" enabled="false" />
          <security mode="None">
            <transport clientCredentialType="Windows" proxyCredentialType="None" realm="" />
            <message clientCredentialType="Windows" negotiateServiceCredential="true" establishSecurityContext="true" />
          </security>
        </binding>
      </wsHttpBinding>
      <ws2007HttpBinding>
        <binding name="SBService" closeTimeout="00:10:00" openTimeout="00:10:00"  receiveTimeout="00:10:00" sendTimeout="00:10:00" maxBufferPoolSize="2147483647"  maxReceivedMessageSize="2147483647">
          <readerQuotas maxDepth="2147483647" maxStringContentLength="2147483647" maxArrayLength="2147483647" maxBytesPerRead="2147483647" maxNameTableCharCount="2147483647" />
          <security mode="None" />
        </binding>
      </ws2007HttpBinding>
      <basicHttpBinding>
            <binding name="WebSBService" />
        </basicHttpBinding>
    </bindings>
    <services>
      <service behaviorConfiguration="SBServiceBehavior" name="MsgListener.MsgListenerClass">
        <endpoint name="DGAAdapter" address="" contract="ServiceBusFeedbackSoap" binding="wsHttpBinding" bindingConfiguration="DGAAdapter" />
        <endpoint name="MetaData" address="mex" contract="IMetadataExchange" binding="mexHttpBinding" />
        <host>
          <baseAddresses>
            <add baseAddress="http://localhost:4986/SBListener" />
          </baseAddresses>
        </host>
      </service>
    </services>
    <client>
      <endpoint address="http://storm.ics.perm.ru:4986/SBService" binding="ws2007HttpBinding" bindingConfiguration="SBService"
         name="SBClient" contract="ESBService.IServiceBusService" />
    </client>
    <behaviors>
      <serviceBehaviors>
        <behavior name="SBServiceBehavior" >
          <serviceMetadata httpGetEnabled="True" />
          <serviceDebug includeExceptionDetailInFaults ="True"/>
          <serviceThrottling maxConcurrentCalls ="10"
                             maxConcurrentInstances="1"
                             maxConcurrentSessions="1"
                             />
        </behavior>
      </serviceBehaviors>
    </behaviors>

  </system.serviceModel>

</configuration>
